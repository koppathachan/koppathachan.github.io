<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Akhil Sasidharan</title>
        <link>https://akhilsasidharan.in/posts/</link>
        <description>Recent content in Posts on Akhil Sasidharan</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Sat, 16 May 2020 21:23:40 +0530</lastBuildDate>
        <atom:link href="https://akhilsasidharan.in/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Go. Weird And Awesome</title>
            <link>https://akhilsasidharan.in/posts/learning-golang/</link>
            <pubDate>Sat, 16 May 2020 21:23:40 +0530</pubDate>
            
            <guid>https://akhilsasidharan.in/posts/learning-golang/</guid>
            <description>November 10th, 2019 marked the 10th anniversary of this awesome programming language called Go. The Go community in Bangalore organized a meetup (which was also their 50th meetup) hosted by SAP Labs. The meetup introduced me to gRPC and writing custom plugins for gRPC. The meetup also introduced me to how the Go runtime scheduler works and how it has achieved high performance concurrency. I was just a beginner in Go and starting to fall in love with the language, and knowing the genesis story of Go helped me understand some of the weirdness I felt about the language initially.</description>
            <content type="html"><![CDATA[<p>November 10th, 2019 marked the 10th anniversary of this awesome programming language called Go. The Go community in Bangalore organized a meetup (which was also their 50th meetup) hosted by SAP Labs. The meetup introduced me to gRPC and writing custom plugins for gRPC. The meetup also introduced me to how the Go runtime scheduler works and how it has achieved high performance concurrency. I was just a beginner in Go and starting to fall in love with the language, and knowing the genesis story of Go helped me understand some of the weirdness I felt about the language initially.
After starting with some basic programming in Go (creating a basic http server and some middleware), the language grew on me and quickly became my favourite programming language. The designers of Go set out to create a fast, productive, and fun programming language, and that&rsquo;s exactly what they did. Let&rsquo;s take a brief tour through some of my learning and experiences.
I have taken less time to learn Go than any other programming language. It has ~25 keywords, but it can do so much. It is garbage collected, compiled, statically typed, and has a small build time. It compiles to machine code, so it performs like C.
Many languages avoid enforcing semicolons at the end of a statement. Go, following in the path of C, does enforce semicolons to terminate statements but doesn&rsquo;t bother developers with it. They insert one when Go code is compiled and they have defined rules for it. You can add it yourself too, but idiomatic Go avoids it. One consequence of this decision is that braces for control structures (if, for, switch, and select) should be on the same line and not on a new line, which adds to the readability of Go. Programmers do not have to make rules instructing how and where braces are used.
I remember learning to code (in C++), and missing to add break statements in my switch cases and thinking, &ldquo;that&rsquo;s not intuitive&rdquo;. I think, as a beginner to coding, those were the most irritating logical errors I have had to debug. The fall through behavior that is common in all programming languages (except python, which does not have a switch case) is useful sometimes. However, since it is not intuitive, I guess every programmer would have made the mistake of missing that break statement. Go switch cases do not fall through unless you want to (using the &ldquo;fallthrough&rdquo; keyword) and I like that.</p>

<p><a id="code-snippet--Switch"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
   <span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
   <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#e6db74">&#34;Go runs on &#34;</span>)
   <span style="color:#66d9ef">switch</span> <span style="color:#ae81ff">2</span> {
   <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span>:
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;1&#34;</span>)
	<span style="color:#66d9ef">fallthrough</span>
   <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span>:
        <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;2&#34;</span>)
	<span style="color:#66d9ef">fallthrough</span>
   <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span>:
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;3&#34;</span>)
   }
}</code></pre></td></tr></table>
</div>
</div></p>

<p>Go also renames the while loop. Like the Go tour specifies &ldquo;C&rsquo;s while is spelled for in Go.&rdquo; One less keyword to remember.
Go&rsquo;s concurrency model involves using Goroutines. Goroutines can be thought of as lightweight threads. They take very little stack space and the stack can grow and shrink according to program requirements. A program may just have one OS thread but a thousand Goroutines. Moreover, if one of the Goroutines is blocking, then the Go runtime moves all the other Goroutines into a newly spawned OS thread. All of this is done automatically by the Go runtime. Goroutines communicate using channels, which are special data structures. Channels can be buffered and Goroutines can push and pull data from it.</p>

<p><a id="code-snippet--While"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {

    <span style="color:#a6e22e">messages</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">string</span>)

    <span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>() { <span style="color:#a6e22e">messages</span> <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;ping&#34;</span> }()

    <span style="color:#a6e22e">msg</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">messages</span>
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">msg</span>)
}</code></pre></td></tr></table>
</div>
</div></p>

<p>Go is not intuitively Object Oriented. One of the main reasons for this is because it does not support inheritance. This is not by accident, but an intentional design choice. Go considers inheritance of the classical style fragile. Instead, it uses Composition. In my opinion, Go is responsibly Object Oriented. I have often noticed that, programmers write code, using languages like Java and C# where there is only one way (OO way), but still don&rsquo;t achieve OO programs. With Go, you can have methods on any type, not just structures. Go interfaces are just a set of methods and you can compose an interface with multiple types that satisfy these interfaces and any other type that satisfies the whole interface.</p>

<p><a id="code-snippet--Object Oriented"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
  <span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">author</span> <span style="color:#66d9ef">struct</span> {
  <span style="color:#a6e22e">firstName</span> <span style="color:#66d9ef">string</span>
  <span style="color:#a6e22e">lastName</span>  <span style="color:#66d9ef">string</span>
  <span style="color:#a6e22e">bio</span>       <span style="color:#66d9ef">string</span>
}

<span style="color:#75715e">//a method on the struct author
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">a</span> <span style="color:#a6e22e">author</span>) <span style="color:#a6e22e">fullName</span>() <span style="color:#66d9ef">string</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Sprintf</span>(<span style="color:#e6db74">&#34;%s %s&#34;</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">firstName</span>, <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">lastName</span>)
}

<span style="color:#75715e">//author is embedded in struct post
</span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">post</span> <span style="color:#66d9ef">struct</span> {
  <span style="color:#a6e22e">title</span>     <span style="color:#66d9ef">string</span>
  <span style="color:#a6e22e">content</span>   <span style="color:#66d9ef">string</span>
  <span style="color:#a6e22e">author</span>
}

<span style="color:#75715e">//details is attached on post
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">p</span> <span style="color:#a6e22e">post</span>) <span style="color:#a6e22e">details</span>() {
  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Title: &#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">title</span>)
  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Content: &#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">content</span>)
  <span style="color:#75715e">//can be accessed directly
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Author: &#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">fullName</span>())
  <span style="color:#75715e">//can be accessed with the struct name also.
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Bio: &#34;</span>, <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">author</span>.<span style="color:#a6e22e">bio</span>)
}</code></pre></td></tr></table>
</div>
</div></p>

<p>Go supports encapsulation at the package level. Exported methods in Go start with a capital letter, and that is one of the things that makes Go so readable. This is perhaps what I like most about Go syntax. Like other languages, we are not burdened with the decision of choosing between camel cases or pascal cases. Go makes it for us.</p>

<p><a id="code-snippet--Encapsulation"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">math</span>

<span style="color:#75715e">//add function is public.
</span><span style="color:#75715e">//access it outside the package like so:
</span><span style="color:#75715e">// math.Add(4,5)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Add</span>(<span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
}

<span style="color:#75715e">//not accessible outside the package math.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">addPrint</span>(<span style="color:#a6e22e">a</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">b</span> <span style="color:#66d9ef">int</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">Add</span>(<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>))
}</code></pre></td></tr></table>
</div>
</div></p>

<p>At work we decided, after much deliberation and debate, to use Go for one of our data processing microservices (Go concurrency model and performance benchmarks won the debate). We were designing a live data collection agent(for Managed Print Services) which consumed a huge amount of JSON data(about printers and their print count, cost etc.) from multiple paged REST APIs, categorised them based on various parameters, stored them and presented it. When we did some googling comparing Apache Spark and a custom solution in Go, we found that even though development effort for spark was lesser, the Go solution would perform better, was simpler and more efficient. The first thing that struck me was that Go is just a programming language(spark is a framework) and it was still easy to build data processing pipelines with just language constructs.
I have come to describe OO Go as &ldquo;Responsible Object Oriented Programming&rdquo;, because it has truly bettered the way I write OO code. When it comes to concurrency, the amazing Goroutines has made me responsible as well as fearless in my coding. I would make Go my top choice just for its general purposiveness, small learning curve, and its refreshing take on object oriented programming.</p>
]]></content>
        </item>
        
        <item>
            <title>Why currying?</title>
            <link>https://akhilsasidharan.in/posts/why-curry/</link>
            <pubDate>Wed, 16 Sep 2020 21:07:46 +0530</pubDate>
            
            <guid>https://akhilsasidharan.in/posts/why-curry/</guid>
            <description>Currying is the transformation of a function written like this
 1 2  const add = (a, b) =&amp;gt; a+b; add(3, 4) // = 7   
Into this
 1 2  const add = a =&amp;gt; b =&amp;gt; a+b; add(3)(4) // = 7   
Which allows me to do this.
 1 2 3  const add = a =&amp;gt; b =&amp;gt; a+b; const add3 = add(3); // this can be read as 3 + b;  add3(1) // = 4</description>
            <content type="html"><![CDATA[<p>Currying is the transformation of a function written like this</p>

<p><a id="code-snippet--EgCurry"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">+</span><span style="color:#a6e22e">b</span>;
  <span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// = 7
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Into this</p>

<p><a id="code-snippet--EgCurry"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span> =&gt; <span style="color:#a6e22e">b</span> =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">+</span><span style="color:#a6e22e">b</span>;
  <span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">3</span>)(<span style="color:#ae81ff">4</span>) <span style="color:#75715e">// = 7
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Which allows me to do this.</p>

<p><a id="code-snippet--EgCurry"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span> =&gt; <span style="color:#a6e22e">b</span> =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">+</span><span style="color:#a6e22e">b</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add3</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">3</span>); <span style="color:#75715e">// this can be read as 3 + b;
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">add3</span>(<span style="color:#ae81ff">1</span>) <span style="color:#75715e">// = 4
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Here I partially applied 3 to the function add to get add3 a specific function that adds 3 to its input.</p>

<p>You can compose functions like these.</p>

<p><a id="code-snippet--EgCurry2"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">longerThan</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">n</span> =&gt; <span style="color:#a6e22e">word</span> =&gt; <span style="color:#a6e22e">word</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">n</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">words</span> <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;something&#39;</span>, <span style="color:#e6db74">&#39;schadenfreude&#39;</span>, <span style="color:#e6db74">&#39;ambivalent&#39;</span>,
      <span style="color:#e6db74">&#39;good&#39;</span>, <span style="color:#e6db74">&#39;bad&#39;</span>, <span style="color:#e6db74">&#39;preposterous&#39;</span>];
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">find</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">words</span> =&gt; <span style="color:#a6e22e">lengthCond</span> =&gt; <span style="color:#a6e22e">words</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">lengthCond</span>);
  <span style="color:#a6e22e">find</span>(<span style="color:#a6e22e">words</span>)(<span style="color:#a6e22e">longerThan</span>(<span style="color:#ae81ff">7</span>));
</code></pre></td></tr></table>
</div>
</div></p>

<p>Now that just reads &lsquo;find words longer than seven&rsquo;.</p>

<p><a id="code-snippet--EgCurry2"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">greet</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">message</span> =&gt; <span style="color:#a6e22e">name</span> =&gt; <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">message</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sayHelloTo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">greet</span>(<span style="color:#e6db74">&#39;Hello&#39;</span>);
  <span style="color:#a6e22e">sayHelloTo</span>(<span style="color:#e6db74">&#39;Akhil&#39;</span>); <span style="color:#75715e">// Hello Akhil!
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sayWelcomeTo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">greet</span>(<span style="color:#e6db74">&#39;Welcome&#39;</span>);
  <span style="color:#a6e22e">sayWelcomeTo</span>(<span style="color:#e6db74">&#39;Mamta&#39;</span>); <span style="color:#75715e">// Welcome Mamta!
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sayGoodDayTo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">greet</span>(<span style="color:#e6db74">&#39;Good Day&#39;</span>);
  <span style="color:#a6e22e">sayGoodDayTo</span>(<span style="color:#e6db74">&#39;Ritika&#39;</span>); <span style="color:#75715e">// Good Day Ritika!
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>It&rsquo;s easy on the eyes isn&rsquo;t it.</p>

<p>I especially like this:</p>

<p><a id="code-snippet--EgCurry3"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">double</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">triple</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>;
  <span style="color:#75715e">// This is a bit tricky to read admittedly, but look what it produces
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pipe</span> <span style="color:#f92672">=</span> (...<span style="color:#a6e22e">fns</span>) =&gt; <span style="color:#a6e22e">n</span> =&gt; <span style="color:#a6e22e">fns</span>.<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">total</span>, <span style="color:#a6e22e">f</span>) =&gt; <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">total</span>), <span style="color:#a6e22e">n</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">doubler</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pipe</span>(<span style="color:#66d9ef">double</span>); <span style="color:#75715e">// same as double
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">quadrupler</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pipe</span>(<span style="color:#66d9ef">double</span>, <span style="color:#66d9ef">double</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sextuple</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pipe</span>(<span style="color:#66d9ef">double</span>, <span style="color:#a6e22e">triple</span>);
  <span style="color:#a6e22e">quadrupler</span>(<span style="color:#ae81ff">3</span>); <span style="color:#75715e">// 12
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">sextuple</span>(<span style="color:#ae81ff">5</span>); <span style="color:#75715e">// 30
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>This is called composition.</p>

<p>Here&rsquo;s another fun one.</p>

<p><a id="code-snippet--EgCurry4"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">subString</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">start</span> =&gt; <span style="color:#a6e22e">len</span> =&gt; <span style="color:#a6e22e">str</span> =&gt; <span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">start</span>, <span style="color:#a6e22e">len</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">lowerCase</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">str</span> =&gt; <span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">toLowerCase</span>();
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">firstCharacter</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">str</span> =&gt; <span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">0</span>)(<span style="color:#ae81ff">1</span>)(<span style="color:#a6e22e">str</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">firstCharacterAsLower</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">str</span> =&gt; <span style="color:#a6e22e">lowerCase</span>(<span style="color:#a6e22e">firstCharacter</span>(<span style="color:#a6e22e">str</span>));
</code></pre></td></tr></table>
</div>
</div></p>

<p>In conclusion, currying if used properly makes code really readable and can produce powerful abstractions through compositions and partial application of functions. I will explore partial application examples in my next post.</p>
]]></content>
        </item>
        
        <item>
            <title>Functional Programming</title>
            <link>https://akhilsasidharan.in/posts/functional-programming/</link>
            <pubDate>Fri, 18 Sep 2020 00:00:00 +0530</pubDate>
            
            <guid>https://akhilsasidharan.in/posts/functional-programming/</guid>
            <description>I’ve been going through some functional programming concepts because I’m on a quest to write better code, and someone told me functional programming is the way to go. I was intrigued and so, I read about it and found out that it was based on lambda calculus and was even more intrigued because it said “calculus”.
The mathematical definition of a function is &amp;lsquo;a relationship between two sets of values such that every element in the first set has a unique value in the second set&amp;rsquo;.</description>
            <content type="html"><![CDATA[<p>I’ve been going through some functional programming concepts because
I’m on a quest to write better code, and someone told me functional
programming is the way to go. I was intrigued and so, I read about it
and found out that it was based on lambda calculus and was even more
intrigued because it said “calculus”.</p>

<p>The mathematical definition of a function is &lsquo;a relationship between two
sets of values such that every element in the first set has a unique
value in the second set&rsquo;.</p>

<p>Examples:</p>

<ul>
<li>f(x) = x^2 + 1</li>
<li>f(x) = cos(x)</li>
<li>f(x) = mother of x</li>
<li>f(x) = xx</li>
<li>f(x) ={ |x| | x ∈ N }, where N is the set of natural numbers.</li>
</ul>

<p>The values of x makes the first set and the evaluated values makes the
second set.</p>

<p>These functions are called <strong>pure functions</strong> in computer science. A
pure function is a function where the return value is determined by
only its input values without any observable <strong>side effects</strong>. If you
look at the second example above cos(x), will always return the same
value for a given x. For example.</p>

<p><a id="code-snippet--EgPF"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">+</span><span style="color:#a6e22e">b</span>;
  <span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// = 7
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Same function with a side effect.</p>

<p><a id="code-snippet--EgPFSideEffect"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) =&gt; {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`adding </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">a</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">b</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>); <span style="color:#75715e">// this is a side effect.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span><span style="color:#f92672">+</span><span style="color:#a6e22e">b</span>;
  }
  <span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// = 7
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Pure functions are very useful in a special kind of optimisation
called <strong>memoization</strong>. Since for a given value x the value of f(x) will
always remain the same it can be saved for future evaluations and can
speed up expensive function evaluations.</p>

<p>In maths a variable x once assigned a value does not change. That is
to say that when a variable x = 1, it cannot be reassigned to x = 3 or
we cannot mutate x to be ++x. Such an expression would be absurd to a
mathematician. We follow the same rule in functional programming and
it is called <strong>immutability</strong>.</p>

<p><a id="code-snippet--EgPFImmutable"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">param1</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span> };
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">addParam2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">opts</span> =&gt; {
    <span style="color:#a6e22e">opts</span>.<span style="color:#a6e22e">param2</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>;
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">opts</span>;
  }
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">addParam2</span>(<span style="color:#a6e22e">options</span>)) <span style="color:#75715e">// { param1: 100, param2: 200 }
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">options</span>) <span style="color:#75715e">// { param1: 100, param2: 200 }
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>In the above snippet addParam2 function changes the options variable so any
code that uses the options variable after will produce incosistent
values. Using variables this way will also force us to keep track of
all the changes to variables, which is a terrible debugging nightmare.</p>

<p>Instead do this:</p>

<p><a id="code-snippet--EgPFImmutable"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">param1</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">100</span> };
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">addParam2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">opts</span> =&gt; ({ <span style="color:#a6e22e">param2</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">200</span>, ...<span style="color:#a6e22e">opts</span> });
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">addParam2</span>(<span style="color:#a6e22e">options</span>)) <span style="color:#75715e">// { param1: 100, param2: 200 }
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">options</span>) <span style="color:#75715e">// { param1: 100 }
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Immutability is important because in an expression such as the following;</p>

<p><a id="code-snippet--EgPFImmutable2"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sq</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">equation</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#ae81ff">3</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">sq</span>(<span style="color:#a6e22e">x</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">6</span> <span style="color:#75715e">// ax^2 + bx + c
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">equation</span>(<span style="color:#ae81ff">5</span>); <span style="color:#75715e">// = 106
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>If we replace equation(5) with its value 106 it does not change the
behaviour of the program in anyway. Such expressions are said to be
<strong>referentially transparent</strong>.</p>

<p>In functional programming paradigm functions are first-class which
means they are treated like any other variable. They can be passed to
a function or returned from a function. Such functions are called
<strong>Higher-Order functions</strong>.</p>

<p><a id="code-snippet--EgPFHigherOrder"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">makeAdjectifier</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">adjective</span> =&gt; <span style="color:#a6e22e">noun</span> =&gt; <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">adjective</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">noun</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">coolifier</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">makeAdjectifier</span>(<span style="color:#e6db74">&#39;cool&#39;</span>);
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">coolifier</span>(<span style="color:#e6db74">&#39;cat&#39;</span>)); <span style="color:#75715e">//cool cat
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Consider this program to find the sum of a list of numbers.</p>

<p><a id="code-snippet--EgPFHigherOrder"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">70</span> ];
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">sum</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#a6e22e">sum</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">arr</span>[<span style="color:#a6e22e">i</span>]; <span style="color:#75715e">// we violate the immutability rule here.
</span><span style="color:#75715e"></span>  }
</code></pre></td></tr></table>
</div>
</div></p>

<p>As you can see we are adding to the variable sum at every iteration
and mutating the value. Consider this solution using the inbuilt
reduce function.</p>

<p><a id="code-snippet--EgPFHigherOrder"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [ <span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">40</span>, <span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">70</span> ];
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">reduce</span>((<span style="color:#a6e22e">sum</span>, <span style="color:#a6e22e">cur</span>) =&gt; <span style="color:#a6e22e">sum</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">curr</span>, <span style="color:#ae81ff">0</span>); <span style="color:#75715e">//higher-order
</span><span style="color:#75715e"></span>						       <span style="color:#75715e">//reduce function
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>Higher-order functions are essential to writing correct functional code.</p>

<p>I hope this helps in writing better code.</p>
]]></content>
        </item>
        
        <item>
            <title>Memoization, with a js implementation that caches recursive calls</title>
            <link>https://akhilsasidharan.in/posts/fast-recursion-using-memoizer/</link>
            <pubDate>Sun, 20 Sep 2020 23:50:30 +0530</pubDate>
            
            <guid>https://akhilsasidharan.in/posts/fast-recursion-using-memoizer/</guid>
            <description>Memoization is an optimization technique used in functional programming to speed up execution by storing the results of resource expensive function calls. When the function is called again with the same input the stored result is fetched and returned. This is possible in functional programming languages because of the use of pure functions as discussed in this post. Purely functional languages such as Haskell has inbuilt support for memoization. In javascript, using a mutable map (object, map, caches) we can implement a memoization.</description>
            <content type="html"><![CDATA[<p>Memoization is an <strong>optimization technique</strong> used in functional
programming to speed up execution by storing the results of resource
expensive function calls. When the function is called again with the
same input the stored result is fetched and returned. This is possible
in functional programming languages because of the use of <strong>pure
functions</strong> as discussed in this <a href="https://akhilsasidharan.in/posts/functional-programming/">post</a>. Purely functional languages such
as Haskell has inbuilt support for memoization. In javascript, using a
mutable map (object, map, caches) we can implement a memoization.</p>

<p>Memoization is especially useful in recursive functions. Writing code
the functional way makes my code expressive and testable. However, as
I will demonstrate now, in javascript (and most other impure
functional languages) recursion is horrendously slow. Recursion is
essential to functional programming.</p>

<p>Let&rsquo;s look at the <strong>fibonacci series</strong>. The mathematical formula of
which is,</p>

<p>F<sub>n</sub> = F<sub>n-1</sub> + F<sub>n-2</sub>, where F<sub>0</sub> = 0, F<sub>1</sub> = 1</p>

<p>or</p>

<p>F<sub>n</sub> = F<sub>n-1</sub> + F<sub>n-2</sub>, when n &gt; 1, and</p>

<p>F<sub>n</sub> = n, when n &lt;= 1</p>

<p>Looking at this equation one can see why recursive function appeals
here. Look at the analogous js code.</p>

<p><a id="code-snippet--EgFibRec"></a></p>

<pre><code class="language-js">  const fib = (n) =&gt; n &gt; 1 ? fib(n - 1) + fib(n - 2) : n;
</code></pre>

<p>To calculate the fibonacci of 40 the above function took more than a
second. Beyond fibonacci of 50 the output depends on what video I am
playing on my laptop. The non recursive but super fast code looks like
this.</p>

<p><a id="code-snippet--EgFib"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uglyFib</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">n</span>) =&gt; {
      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">i</span>;
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span>;
      <span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">n</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
      <span style="color:#a6e22e">c</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;  <span style="color:#75715e">// We violate immutability rule here
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">b</span>;      <span style="color:#75715e">// and here
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>;      <span style="color:#75715e">// and here
</span><span style="color:#75715e"></span>      }
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">b</span>;
  };
</code></pre></td></tr></table>
</div>
</div></p>

<p>It doesn&rsquo;t look anything like its mathematical representation. I
wished it had the charming good looks of its recursive counterpart to
go with its dashing performance. That wish was granted; we
have memoization.</p>

<p>But first let me show you what happens while calculating the fibonacci
value of 5. fib(5).</p>

<p><a id="code-snippet--Fib5Tree"></a></p>

<pre><code class="language-nil">fib(5)
|
+--fib(4)
|  |
|  +--fib(3)-------------------------------1
|  |  |                                    |
|  |  +--fib(2)-----------------1          |
|  |  |  |                      |          |
|  |  |  *--fib(1)              |          |
|  |  |  |                      |          |
|  |  |  *--fib(0)              |          |
|  |  |                         |          |
|  |  +--fib(1)                 |          |
|  |                            |          |
|  +--fib(2)--------------------2          |
|     |                         |          |
|     *--fib(1)                 |          |
|     |                         |          |
|     *--fib(0)                 |          |
+--fib(3)-----------------------|----------2
|  |                            |
|  +--fib(2)--------------------3
|  |  |
|  |  *--fib(1)
|  |  |
|  |  *--fib(1)
|  |
|  +--fib(1)
</code></pre>

<p>From the above tree we can see that fib(3) is called 2 times, fib(2)
is called 3 times, fib(1) 6 times and fib(0) 2 times. Memoization is
how we avoid these repeated calls by saving the result the first time
fib(n) is called. When the result is returned its value is cached in
an object with the key as the functions input (n in this case). This
can be reused by subsequent calls to the function with the same input.</p>

<p>Let&rsquo;s look at a basic implementation of memoization.</p>

<p><a id="code-snippet--EgMemoizedFib"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fibonacci</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">n</span>, <span style="color:#a6e22e">memo</span> <span style="color:#f92672">=</span> {}) {   <span style="color:#75715e">// provide a default object as
</span><span style="color:#75715e"></span>				       <span style="color:#75715e">// cache.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">memo</span>[<span style="color:#a6e22e">n</span>]) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">memo</span>[<span style="color:#a6e22e">n</span>]; }   <span style="color:#75715e">// looking in the cache.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>) { <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>; }
    <span style="color:#a6e22e">memo</span>[<span style="color:#a6e22e">n</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">fibonacci</span>(<span style="color:#a6e22e">n</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">memo</span>) <span style="color:#f92672">+</span> <span style="color:#75715e">// save the result and pass the
</span><span style="color:#75715e"></span>	      <span style="color:#a6e22e">fibonacci</span>(<span style="color:#a6e22e">n</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">memo</span>);  <span style="color:#75715e">// cache object.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">memo</span>[<span style="color:#a6e22e">n</span>];                    <span style="color:#75715e">// return the result
</span><span style="color:#75715e"></span>  }
</code></pre></td></tr></table>
</div>
</div></p>

<p>The above implementation not only caches the result of fibonacci(5),
but also intermediate results of fibonacci(4), fibonacci(3) and all
the rest of them.</p>

<p>Some npm modules like fast-memoize and memoize provide generic
implementations to memoize any function like this.</p>

<p><a id="code-snippet--EgMemoizedFib"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">memoize</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;fast-memoize&#39;</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fn</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">one</span>, <span style="color:#a6e22e">two</span>, <span style="color:#a6e22e">three</span>) { <span style="color:#75715e">/* ... */</span> }
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">memoized</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">memoize</span>(<span style="color:#a6e22e">fn</span>)
  <span style="color:#a6e22e">memoized</span>(<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;bar&#39;</span>)
  <span style="color:#a6e22e">memoized</span>(<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;bar&#39;</span>) <span style="color:#75715e">// Cache hit
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>But they do not cache intermediate results like we saw above in the
custom implementation. While I do like custom implementations over a
generic solution, I attempted a generic solution that caches
intermediate values. That is, if I call fib(5) the memoized value of
fib(5) will cache fib(4), fib(3), fib(2), fib(1), fib(0) before the
function fib(5) has returned, which is speeds up some recursive
functions.</p>

<p><a id="code-snippet--EgMemoizedFib"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">memoize</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">func</span>, <span style="color:#a6e22e">cache</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">create</span>(<span style="color:#66d9ef">null</span>)) =&gt; {

  <span style="color:#75715e">// here we do some magic to sanitize body and arguments recieved from
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// the func.toString() call. Then we return a new function as shown
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// below.
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Function(<span style="color:#e6db74">&#39;cache&#39;</span>,
  <span style="color:#e6db74">`
</span><span style="color:#e6db74">  return function </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">func</span>.<span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> (</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">args</span><span style="color:#e6db74">}</span><span style="color:#e6db74">) {
</span><span style="color:#e6db74">    let result = cache[JSON.stringify([</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">args</span><span style="color:#e6db74">}</span><span style="color:#e6db74">])]
</span><span style="color:#e6db74">    if (result) { return result; }
</span><span style="color:#e6db74">    result = </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">body</span><span style="color:#e6db74">}</span><span style="color:#e6db74">
</span><span style="color:#e6db74">    cache[JSON.stringify([</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">args</span><span style="color:#e6db74">}</span><span style="color:#e6db74">])] = result;
</span><span style="color:#e6db74">    return result;
</span><span style="color:#e6db74">  }
</span><span style="color:#e6db74">  `</span>)(<span style="color:#a6e22e">cache</span>);
  };
</code></pre></td></tr></table>
</div>
</div></p>

<p>Not an elegant solution admittedly, but it does the job, given the
limitations of javascript. You can explore the full code at
<a href="https://github.com/sasidakh/memoizer">https://github.com/sasidakh/memoizer</a>.</p>

<p>I tested this implementation where the fibonacci of 40 was calculated
and it was only 4 times slower (the first time it was called) than its
non recursive counter part as opposed to being nearly 40000 times
slower.</p>

<table>
<thead>
<tr>
<th>Without recursion</th>
<th>:</th>
<th>:</th>
<th>x</th>
</tr>
</thead>

<tbody>
<tr>
<td>With recursion</td>
<td>:</td>
<td>:</td>
<td>~ 39000x slower</td>
</tr>

<tr>
<td>Memoized recursion</td>
<td>:</td>
<td>:</td>
<td>~4x slower</td>
</tr>

<tr>
<td>Memoized recursion ran twice</td>
<td>:</td>
<td>:</td>
<td>~42x faster</td>
</tr>
</tbody>
</table>

<p><strong>Wo-hoo! My code is faster thanks to memoization</strong></p>

<p>You can run the tests on the <a href="https://github.com/sasidakh/memoizer">repo</a> to understand it better.</p>
]]></content>
        </item>
        
        <item>
            <title>Why use native Promise over Bluebird and other implementations</title>
            <link>https://akhilsasidharan.in/posts/prefer-native-over-library/</link>
            <pubDate>Wed, 07 Oct 2020 03:58:43 +0530</pubDate>
            
            <guid>https://akhilsasidharan.in/posts/prefer-native-over-library/</guid>
            <description>&amp;lsquo;Brevity is the soul of wit&amp;rsquo;
 We owe shakespeare the credit for this enduring idiom. The context of this quote is often lost in its contemporary usage. I am going to ignore it too, and use it to simply mean &amp;lsquo;intelligence or humour is best expressed briefly&amp;rsquo;. I am also going to extend this quality, &amp;lsquo;soul of wit&amp;rsquo;, to programming.
The best thing about free and open source software is that there is a lot of good, clean useful software to choose from to do anything.</description>
            <content type="html"><![CDATA[<blockquote>
<p>&lsquo;Brevity is the soul of wit&rsquo;</p>
</blockquote>

<p>We owe shakespeare the credit for this enduring idiom. The context of
this quote is often lost in its contemporary usage. I am going to
ignore it too, and use it to simply mean &lsquo;intelligence or humour is best
expressed briefly&rsquo;. I am also going to extend this quality, &lsquo;soul of wit&rsquo;,
to programming.</p>

<p>The best thing about free and open source software is that there is a
lot of good, clean useful software to choose from to do anything.
Consider the JavaScript ecosystem. Trivial computations like calling a
function multiple times or getting a value from the nested object, or
delaying a function can be done by using generic implementations in
&lsquo;lodash&rsquo; package. Even implementations of native methods like forEach,
map, filter, find are found (I guess lodash was pre es3) in
lodash. Coming back to brevity and the soul of wit, I could not bring
myself to include another library for such trivial things. I prefer
custom specific implementations to generic solution especially for
such trivial things. For instance, consider the lodash method
isEmpty(value). lodash.isEmpty(value) looks for all falsey values. Why
must it.</p>

<p><a id="code-snippet--Eg1"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">isEmpty</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arr</span> =&gt; <span style="color:#a6e22e">arr</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">arr</span>).<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>;
</code></pre></td></tr></table>
</div>
</div></p>

<p>In most cases its input will be an object or an array. That&rsquo;s readable
and brief. Why must a function that checks if an object is empty,
recieve say, a number. <strong>It is a violation of the Liskov Substitution
Principle aka LSP</strong>.</p>

<p>Another common use case is for Promise. Promises were introduced in
es6 (ES2015). Before that other libraries like Bluebird were
used. Bluebird even performed better than native Promises (before node
10). However, Bluebird also has other functions like Promise.map,
which can be easily implemented using array.map and
async/await. Promise.map also has options like concurrency. But I
cannot see the rationale behind importing a library to use a couple of
its features as opposed spending 15 minutes to implement them
yourself. Here is where that soul of wit is and this habit has made me
a better programmer. A generic solution is not always the best
approach and in those instances I prefer a custom solution.</p>

<p>Nonetheless, I was interested in a generic solution for Promise.map
using modern javscript. Here&rsquo;s what I came up with.</p>

<p><a id="code-snippet--Eg2"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#75715e">// partition the data into groups of length given by concurrency.
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">partition</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">concurrency</span>) =&gt; Array.<span style="color:#a6e22e">from</span>({
    <span style="color:#a6e22e">length</span><span style="color:#f92672">:</span> Math.<span style="color:#a6e22e">ceil</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">length</span> <span style="color:#960050;background-color:#1e0010">/ concurrency)</span>
  }, (<span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">i</span>) =&gt; <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">concurrency</span>, (<span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#a6e22e">concurrency</span>));

  <span style="color:#75715e">// custom mapReduce takes a mapper function
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// that should be partially applied to return the reduce method.
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">mapReduce</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">mapper</span>) =&gt; <span style="color:#66d9ef">async</span> (
    <span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">data</span>
  ) =&gt; [...<span style="color:#66d9ef">await</span> <span style="color:#a6e22e">result</span>, ...<span style="color:#66d9ef">await</span> Promise.<span style="color:#a6e22e">all</span>(<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">mapper</span>))];

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">map</span> <span style="color:#f92672">=</span> (
    <span style="color:#a6e22e">concurrency</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">Infinity</span>
  ) =&gt; <span style="color:#66d9ef">async</span> (
    <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">mapper</span>
  ) =&gt; <span style="color:#a6e22e">partition</span>(<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">concurrency</span>).<span style="color:#a6e22e">reduce</span>(<span style="color:#a6e22e">mapReduce</span>(<span style="color:#a6e22e">mapper</span>), []);
</code></pre></td></tr></table>
</div>
</div></p>

<p>The above code is simple, follows functional programming paradigm
using modern javascript.</p>

<p>Another irritating example is that of the lodash get method. It allows
us to do this:</p>

<p><a id="code-snippet--Eg3"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">object</span> <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#39;a&#39;</span><span style="color:#f92672">:</span> [{ <span style="color:#e6db74">&#39;b&#39;</span><span style="color:#f92672">:</span> { <span style="color:#e6db74">&#39;c&#39;</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span> } }] };
  <span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">object</span>, <span style="color:#e6db74">&#39;a[0].b.c&#39;</span>); <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// and you can pass a default value if the path is not found.
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">object</span>, <span style="color:#e6db74">&#39;a.b.c&#39;</span>, <span style="color:#e6db74">&#39;default&#39;</span>); <span style="color:#75715e">// &#39;default&#39;
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>In the off chance that I have to use this function, I prefer this.</p>

<p><a id="code-snippet--Eg3"></a>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7c7c79">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">makeGet</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">def</span>) =&gt; (
    <span style="color:#a6e22e">obj</span>, ...<span style="color:#a6e22e">ks</span>
  ) =&gt; <span style="color:#a6e22e">ks</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">1</span>).<span style="color:#a6e22e">reduce</span>((
    <span style="color:#a6e22e">o</span>, <span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">kss</span>
  ) =&gt; (<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">o</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;object&#39;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">o</span>[<span style="color:#a6e22e">k</span>]) <span style="color:#f92672">||</span> (<span style="color:#a6e22e">kss</span>.<span style="color:#a6e22e">splice</span>(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">def</span>), <span style="color:#a6e22e">obj</span>[<span style="color:#a6e22e">ks</span>[<span style="color:#ae81ff">0</span>]]);

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">get</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">makeGet</span>(<span style="color:#e6db74">&#39;default&#39;</span>);

  <span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">object</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>); <span style="color:#75715e">// 3
</span><span style="color:#75715e"></span>
  <span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">object</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>); <span style="color:#75715e">// &#39;default&#39;
</span></code></pre></td></tr></table>
</div>
</div></p>

<p>It doesn&rsquo;t take much effort to parse &lsquo;a[0].b.c&rsquo; into the arguments of
this function.</p>

<p>It is always more rewarding to take some time out and implement such
trivial functions. I&rsquo;ve learnt a few things from that and it has
defintely made me a better programmer.</p>
]]></content>
        </item>
        
    </channel>
</rss>
